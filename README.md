# Электронная торговая площадка для мелких производителей

![IDEF1X (4)](https://github.com/OOP-ICT-SMALL-RETAILER/temporary-lab-repo/assets/112976482/f7ed2d81-8bbc-4cdd-bc9d-5acd807c5a88)

Мы работаем над B2C ритейл хероборой типа яндекс маркета
Есть аккаунт магазина, у которого есть товары
Есть аккаунт покупателя, который может заказать товары и получить из в пункте выдачи. Без доставки на дом
Электронная торговая площадка для мелких производителей
Игнорируем потребности пункта выдачи и курьеров, прочих разных других

# Описание взаимодействия с сайтом

## Пользователь

Зарегистрироваться
После регистрации ему дается куки, который хранится локально и должен прикладываться к каждому запросу, касающемуся пользователя
- Залогиниться/разлогиниться
Нужно сделать учет куки, чтобы они не были вечными
Поиск товара
- По категории (товара)
- По названию (товара) 
- По продавцу (имя продавца)
- По артикулу (артикул товара)
Добавлять товар в корзину
Оплачивать заказ
Происходит одна транзакция со стороны пользователя
Банк/платежная система как-то перенаправит прибыль магазинам сама
Выбирать пункт выдачи

Оставлять отзыв на товар (без вложений)
- Рейтинг
- Текст

## Магазин 

Создаться
Создает товар
Меняет свойства товара
- Цену
- Скидку
- Название
- Описание
- Категорию
- Есть ли в наличие
Посмотреть свои продажи

## Шпаргалка по REST

Вставлять чувствительную информацию не в строку запроса, а в request

Методы:
GET - запросить информацию
POST - отправить информацию
PUT - обновить информацию
PATCH - игнорируем, равноценен PUT
DELETE - удаляем, логично

# Эндпоинты

## Адрес

Поиск по адресу? Как-то?
```rest
GET /address/search{?adress_text;?city_name;?street_name}
Request - {}
Response - {“г. Санкт-Петербург, Улица Ленина, д.4”: “aeb” , 
   “г. Москва, Улица Ленина, д.4”: “bebebe”, 
   “г. Сыктывкар, Улица Ленина, д.4”: “babbabab”, 
   “г. Тюмень, Улица Ленина, д.4”: “bibibi”}
```

## Заказ

Просмотр информации о последнем заказе 
```rest
GET /orders/{orderID}
request - {"userCookie": "5n6w4k5j6"}
response - {"orderID": "4w5l6jn4wlk5j6nw4lk56", "status": "В обработке", "totalPrice": 107.5, "products": [{"id": 1, "name": "Тестовый товар", "quantity": 1}, ...]}
```

Просмотр всех своих заказов 
```rest
GET /orders/history
request - {“userCookie”: “5n6w4k5j6”}
response - [{"product_id": 1, "quantity": 2},
    {"product_id": 2, "quantity": 1},
    {"product_id": 3,  "quantity": 3}]
```
Отмена заказа
```rest
DELETE /orders/{orderID}
request - {"userCookie": "5n6w4k5j6"}
response - {"message": "Заказ успешно отменен"}
```
